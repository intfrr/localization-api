--liquibase formatted sql

--changeset maruf:1539668757954-1
CREATE TABLE LANGUAGE (id VARCHAR(32) NOT NULL, tenant VARCHAR(255) NOT NULL, code VARCHAR(255) NULL, isActive TINYINT(3) NULL, isRtl TINYINT(3) NULL, name VARCHAR(255) NULL, project_id VARCHAR(32) NULL);

--changeset maruf:1539668757954-2
CREATE TABLE LOCALIZATION_KEY (id VARCHAR(32) NOT NULL, tenant VARCHAR(255) NOT NULL, langKey VARCHAR(255) NOT NULL, project_id VARCHAR(32) NULL);

--changeset maruf:1539668757954-3
CREATE TABLE LOCALIZATION_VALUE (id VARCHAR(32) NOT NULL, tenant VARCHAR(255) NOT NULL, value TEXT NOT NULL, language_id VARCHAR(32) NULL, localizationKey_id VARCHAR(32) NULL);

--changeset maruf:1539668757954-4
CREATE TABLE PROJECT (id VARCHAR(32) NOT NULL, tenant VARCHAR(255) NOT NULL, code VARCHAR(255) NOT NULL, description VARCHAR(255) NULL, name VARCHAR(255) NOT NULL, url VARCHAR(255) NULL);

--changeset maruf:1539668757954-5
CREATE TABLE ROLE (id VARCHAR(32) NOT NULL, name VARCHAR(255) NULL);

--changeset maruf:1539668757954-6
CREATE TABLE TENANT (id VARCHAR(255) NOT NULL, name VARCHAR(255) NULL, url VARCHAR(255) NULL);

--changeset maruf:1539668757954-7
CREATE TABLE USER (id VARCHAR(32) NOT NULL, tenant VARCHAR(255) NOT NULL, email VARCHAR(50) NULL, ENABLED BIT(1) NULL, firstName VARCHAR(50) NULL, lastName VARCHAR(50) NULL, lastPasswordResetDate datetime(6) NULL, password VARCHAR(200) NULL);

--changeset maruf:1539668757954-8
CREATE TABLE USER_ROLE (USER_ID VARCHAR(32) NOT NULL, ROLE_ID VARCHAR(32) NOT NULL);

--changeset maruf:1539668757954-9
ALTER TABLE LANGUAGE ADD PRIMARY KEY (id);

--changeset maruf:1539668757954-10
ALTER TABLE LOCALIZATION_KEY ADD PRIMARY KEY (id);

--changeset maruf:1539668757954-11
ALTER TABLE LOCALIZATION_VALUE ADD PRIMARY KEY (id);

--changeset maruf:1539668757954-12
ALTER TABLE PROJECT ADD PRIMARY KEY (id);

--changeset maruf:1539668757954-13
ALTER TABLE ROLE ADD PRIMARY KEY (id);

--changeset maruf:1539668757954-14
ALTER TABLE TENANT ADD PRIMARY KEY (id);

--changeset maruf:1539668757954-15
ALTER TABLE USER ADD PRIMARY KEY (id);

--changeset maruf:1539668757954-16
ALTER TABLE USER_ROLE ADD PRIMARY KEY (USER_ID, ROLE_ID);

--changeset maruf:1539668757954-17
ALTER TABLE LOCALIZATION_KEY ADD CONSTRAINT UK5e4v7evb912lklca0kyho4nta UNIQUE (langKey, project_id);

--changeset maruf:1539668757954-18
ALTER TABLE TENANT ADD CONSTRAINT UK_4jw4mvo451xouioqb2ia66muh UNIQUE (name);

--changeset maruf:1539668757954-19
ALTER TABLE TENANT ADD CONSTRAINT UK_bvrgi8yx4ipojbacfxf680pgs UNIQUE (url);

--changeset maruf:1539668757954-20
ALTER TABLE USER ADD CONSTRAINT UK_oso07pudw19e66bs4yp8hwpux UNIQUE (email);

--changeset maruf:1539668757954-21
ALTER TABLE LOCALIZATION_VALUE ADD CONSTRAINT UKjhf7f61ecbitl1kceeobapqim UNIQUE (localizationKey_id, language_id);

--changeset maruf:1539668757954-22
CREATE INDEX FKn1rn9qodd3u4le8uf3kl33qe3 ON USER_ROLE(ROLE_ID);

--changeset maruf:1539668757954-23
CREATE INDEX idx_language ON LANGUAGE(project_id);

--changeset maruf:1539668757954-24
CREATE INDEX idx_localization ON LOCALIZATION_KEY(project_id);

--changeset maruf:1539668757954-25
CREATE INDEX idx_localization_value ON LOCALIZATION_VALUE(language_id);
